<!-- pages/profile/profile.wxml -->

<!-- 主容器，包含背景 -->
<view class="page-container" style="background-image: url('/images/profile-bg.png');">
  
  <!-- 自定义导航栏区域 -->
  <!-- 使用 style 内联样式，动态设置上边距以适配不同手机的状态栏 -->
  <view class="custom-nav" style="padding-top: {{ statusBarHeight }}px;">
    <view class="nav-title">我的洞府</view>
  </view>

  <!-- 主要内容区域 -->
  <view class="main-content">
    
    <!-- 1. 境界与修为 -->
    <view class="section-card realm-card">
      <view class="realm-name">{{ userInfo.levelName }}</view>
      <view class="exp-bar-container">
        <text class="exp-label">修为</text>
        <van-progress 
          percentage="{{ userInfo.expPercentage }}" 
          show-pivot="{{ false }}" 
          color="linear-gradient(to right, #ffd700, #ffb347)"
          track-color="#555"
        />
        <text class="exp-value">{{ userInfo.currentExp }} / {{ userInfo.expToNext }}</text>
      </view>
    </view>

    <!-- 2. 五大属性 -->
    <view class="section-card attributes-card">
      <view class="attribute-item">
        <view class="attribute-value">{{ userAttributes.shouYuan }}</view>
        <view class="attribute-name">寿元</view>
      </view>
      <view class="attribute-item">
        <view class="attribute-value">{{ userAttributes.tiZhi }}</view>
        <view class="attribute-name">体质</view>
      </view>
      <view class="attribute-item">
        <view class="attribute-value">{{ userAttributes.xinJing }}</view>
        <view class="attribute-name">心境</view>
      </view>
      <view class="attribute-item">
        <view class="attribute-value">{{ userAttributes.zhiHui }}</view>
        <view class="attribute-name">智慧</view>
      </view>
      <view class="attribute-item">
        <view class="attribute-value">{{ userAttributes.caiFu }}</view>
        <view class="attribute-name">财富</view>
      </view>
    </view>

    <!-- 3. 每日语录 -->
    <view class="section-card quote-card">
      <van-icon name="chat-o" size="18px" />
      <text class="quote-text">{{ dailyQuote }}</text>
    </view>

    <!-- 4. 修炼法相 -->
    <view class="avatar-container">
      <image class="avatar-image" src="/images/profile-avatar.png" mode="aspectFit" />
    </view>

    <!-- 5. 功能入口 -->
    <view class="actions-container">
      <view class="action-item" bind:tap="navigateToJournal">
        <van-icon name="records" size="24px" />
        <text>感悟日记</text>
      </view>
      <view class="action-item" bind:tap="navigateToReview">
        <van-icon name="description" size="24px" />
        <text>修炼回顾</text>
      </view>
      <!-- 更多入口可以在这里添加 -->
    </view>

  </view>

</view>